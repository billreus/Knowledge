# Linux 基本操作

## 1.Linux 用户管理

### 1.1 查看用户

查看当前登陆用户的用户名`whoami`

### 1.2 创建用户

创建用户的命令：`sudo adduser user`

切换用户：`su -l user`

#### 1.2.1 su

`su <user>`可以切换到用户user，执行需要输入用户密码。

#### 1.2.2 su-

`sudo <cmd>`可以以root级别运行cmd命令，需要当前用户属于sudo组并且需要输入当前密码

#### 1.2.3 sudo

`su - <user>`用于切换用户，同时环境变量也会改变成目标用户的环境变量

### 1.3 用户组

查找用户组下的成员：`groups user`

查看用户是否有root权限：`sudo ls`

将其它用户加入sudo用户组：`sudo usermod -G sudo user`

### 1.4 删除用户

`sudo deluser user --remove-home`

## 2.Linux 文件权限

### 2.1 查看文件权限

使用命令`ls`可以查看文件，使用较长格式列出文件：`ls -l`

例如：`drwxr-xr-x 2 shiyan shiyanuser 4096 11月 13 15:27 Documents`

每段表示一个内容，分别为：

文件类型和权限，链接数，所有者，所属用户组，文件大小，最后修改时间，文件名

对于文件的权限分为:

```linux
'r'表示允许读权限
'w'表示允许写权限
'x'表示允许执行权限
```

上文中`drwxr-xr-x`中rwx为拥有者权限，r-x为所属用户组权限，r-x为其它用户权限

文件类型可分为：

```linux
'd',目录
'l',软链接
'b',块设备
'c',字符设备
's',socket
'p',管道
'-',普通文件
```

`ls -A`显示所有文件包括隐藏文件（Linux下以.开头的文件为隐藏文件）

`ls -dl <目录名>`查看某个目录的完整属性

`ls -AsSh` 显示所有文件大小

### 2.2 变更文件所有者

`ls filename`可以查看到文件的所有者

首先打开到该文件目录下,再变更文件所有者，`sudo chown user1 user2`即可把文件所有者从2变成1。

### 2.3 修改文件权限

每个文件有三组权限：拥有者，所属用户，其他用户

`g`、`o`、`u`分别表示group、others、user。+和-分别表示增加和去掉相应权限。

例如文件权限修改为只有我自己可以用`chmod go-rw filename`即可。

