# Linux 基本操作

## 1.Linux 用户管理

### 1.1 查看用户

查看当前登陆用户的用户名`whoami`

### 1.2 创建用户

创建用户的命令：`sudo adduser user`

切换用户：`su -l user`

#### 1.2.1 su

`su <user>`可以切换到用户user，执行需要输入用户密码。

#### 1.2.2 su-

`sudo <cmd>`可以以root级别运行cmd命令，需要当前用户属于sudo组并且需要输入当前密码

#### 1.2.3 sudo

`su - <user>`用于切换用户，同时环境变量也会改变成目标用户的环境变量

### 1.3 用户组

查找用户组下的成员：`groups user`

查看用户是否有root权限：`sudo ls`

将其它用户加入sudo用户组：`sudo usermod -G sudo user`

### 1.4 删除用户

`sudo deluser user --remove-home`

## 2.Linux 文件权限

### 2.1 目录

可分享不可改变：/usr（软件存放）/opt（第三方软件）

可分享可改变：/var/mail（用户邮箱） /var/news（新闻组）

不可分享不可改变：/etc（配置文件）/boot（开机及内核）

不可分享可改变：/var/run（程序相关） /var/lock（文件锁相关）

### 2.2 文件相关操作命令

#### ls

ls 命令是 list 的缩写。ls 用来打印出当前目录的清单，可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等。

`ls [选项] [目录名]`

常用参数：

* -a：列出所有文件，包括以 . 开头的隐含文件
* -l：列出文件的权限、所有者、文件大小等信息
* -d：将目录象文件一样显示
* -h：列出文件大小
* -t：以文件修改时间排序

#### cd

`cd /` 从当前目录进入

`cd ..`从当前进入父目录

`cd ~`从当前进入用户主目录

`cd -`从当前进入上次目录

### 2.3 查看文件权限

使用命令`ls`可以查看文件，使用较长格式列出文件：`ls -l`

例如：`drwxr-xr-x 2 shiyan shiyanuser 4096 11月 13 15:27 Documents`

每段表示一个内容，分别为：

文件类型和权限，链接数，所有者，所属用户组，文件大小，最后修改时间，文件名

对于文件的权限分为:

```linux
'r'表示允许读权限
'w'表示允许写权限
'x'表示允许执行权限
```

上文中`drwxr-xr-x`中rwx为拥有者权限，r-x为所属用户组权限，r-x为其它用户权限

文件类型可分为：

```linux
'd',目录
'l',软链接
'b',块设备
'c',字符设备
's',socket
'p',管道
'-',普通文件
```

`ls -A`显示所有文件包括隐藏文件（Linux下以.开头的文件为隐藏文件）

`ls -dl <目录名>`查看某个目录的完整属性

`ls -AsSh` 显示所有文件大小

### 2.4 新建文件和目录

`touch filename`新建空白文件

`mkdir name`新建名为name的空目录

`mkdir -p fathe/son/sons`新建多级目录

### 2.5 删除文件和目录

`rm filename`删除文件

`rm -f filename`强制删除

`rm -r father`删除目录

### 2.6 复制文件和目录

`cp filename /home/father/son/grandson`复制文件

`cp -r father family`复制目录

### 2.7 移动文件和重命名

`mv file1 filetest`将文件 file1 移动到 filetest 目录

`mv file1 file2`将文件 file1 重命名为 file2

### 2.8 查看文件

`cat` 和 `tac` 用来打印文件内容到标准输出（终端），其中 `cat` 为正序显示，`tac` 为倒序显示。

### 2.9 变更文件所有者

`ls filename`可以查看到文件的所有者

首先打开到该文件目录下,再变更文件所有者，`sudo chown user1 user2`即可把文件所有者从2变成1。

### 2.10 修改文件权限

每个文件有三组权限：拥有者，所属用户，其他用户

`g`、`o`、`u`分别表示group、others、user。+和-分别表示增加和去掉相应权限。

例如文件权限修改为只有我自己可以用`chmod go-rw filename`即可。

## 3.软件安装

### 3.1 自动下载安装

`sudo apt-get install 软件名`

会自动下载软件包到 /var/cache/apt/archives 目录下并安装。

## 4.常用快捷键

### 4.1.全局快捷键

`ctrl+alt+D`|显示桌面 / 还原显示

`ctrl+alt+T`|启动终端

`ctrl+alt+L`|锁屏 / 显示登录对话框

`ctrl+alt+F1-F6`|进入 1-6 命令行环境

`ctrl+alt+F7`|进入图形界面环境

`alt+Tab`|在当前桌面的窗口间顺序切换

`alt+F10`|最大化/取消最大化窗口

`alt+F9`|最小化窗口

`alt+F1`|下拉应用程序菜单

`alt+F2`|打开运行应用程序的窗口

`ctrl+Q`|关闭应用程序窗口

### 4.2.命令行快捷键

`Tab`|命令补全

`Ctrl+c`|强行终止当前程序（不会退出终端）

`Ctrl+d`|键盘输入结束或退出终端

`Ctrl+s`|暂停当前程序，暂停后按下任意键恢复运行

`Ctrl+z`|将当前程序放到后台运行，恢复到前台为命令fg

`Ctrl+a`|将光标移至输入行头，相当于Home键

`Ctrl+e`|将光标移至输入行末，相当于End键

`Ctrl+k`|删除从光标所在位置到行末

`Alt+Backspace`|向前删除一个单词

`Shift+PgUp`|将终端显示向上滚动

`Shift+PgDn`|将终端显示向下滚动